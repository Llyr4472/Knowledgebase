<!DOCTYPE html>
<html lang="en"><head><title>Setting up Malware Analysis Lab</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="Knowledgebase"/><meta property="og:title" content="Setting up Malware Analysis Lab"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Setting up Malware Analysis Lab"/><meta name="twitter:description" content="Creating a malware analysis lab Installing Virtualization Software Before installing a virtual operating system, we need to install one of the virtualization software that enables ..."/><meta property="og:description" content="Creating a malware analysis lab Installing Virtualization Software Before installing a virtual operating system, we need to install one of the virtualization software that enables ..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="Creating a malware analysis lab Installing Virtualization Software Before installing a virtual operating system, we need to install one of the virtualization software that enables ..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:url" content="https://knowledgebase.prashantgiri360.com.np/static/social-images/content-SOC-Setting up Malware Analysis Lab.md.webp"/><meta name="twitter:image" content="https://knowledgebase.prashantgiri360.com.np/static/social-images/content-SOC-Setting up Malware Analysis Lab.md.webp"/><meta property="og:image" content="https://knowledgebase.prashantgiri360.com.np/static/social-images/content-SOC-Setting up Malware Analysis Lab.md.webp"/><meta property="twitter:domain" content="knowledgebase.prashantgiri360.com.np"/><meta property="og:url" content="https://knowledgebase.prashantgiri360.com.np/SOC/Setting-up-Malware-Analysis-Lab"/><meta property="twitter:url" content="https://knowledgebase.prashantgiri360.com.np/SOC/Setting-up-Malware-Analysis-Lab"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="Creating a malware analysis lab Installing Virtualization Software Before installing a virtual operating system, we need to install one of the virtualization software that enables ..."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="SOC/Setting-up-Malware-Analysis-Lab"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="..">Knowledgebase</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;AI&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;HTB&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Networking&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SOC&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Writeups&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Writeups/Challenges&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Writeups/CTF&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Writeups/SOC-Alerts&quot;,&quot;collapsed&quot;:true}]" aria-controls="explorer-content" aria-expanded="false"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="AI"><button class="folder-button"><span class="folder-title">AI</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="AI"><li><a href="../AI/Binary-Classification" data-for="AI/Binary-Classification">Binary Classification</a></li><li><a href="../AI/Clustering" data-for="AI/Clustering">Clustering</a></li><li><a href="../AI/Deep-learning" data-for="AI/Deep-learning">Deep learning</a></li><li><a href="../AI/Foundations-of-AI" data-for="AI/Foundations-of-AI">Foundations of AI</a></li><li><a href="../AI/Machine-Learning" data-for="AI/Machine-Learning">Machine Learning</a></li><li><a href="../AI/Multiclass-Classification" data-for="AI/Multiclass-Classification">Multiclass Classification</a></li><li><a href="../AI/Regression" data-for="AI/Regression">Regression</a></li><li><a href="../AI/Transformers" data-for="AI/Transformers">Transformers</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="HTB"><button class="folder-button"><span class="folder-title">HTB</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="HTB"><li><a href="../HTB/Active-Directory" data-for="HTB/Active-Directory">Active Directory</a></li><li><a href="../HTB/AD-Functionality" data-for="HTB/AD-Functionality">AD Functionality</a></li><li><a href="../HTB/AD-Objects" data-for="HTB/AD-Objects">AD Objects</a></li><li><a href="../HTB/AD-Terminologies" data-for="HTB/AD-Terminologies">AD Terminologies</a></li><li><a href="../HTB/Banner-grabbing" data-for="HTB/Banner-grabbing">Banner grabbing</a></li><li><a href="../HTB/Bind-Shell" data-for="HTB/Bind-Shell">Bind Shell</a></li><li><a href="../HTB/FTP" data-for="HTB/FTP">FTP</a></li><li><a href="../HTB/Gobuster" data-for="HTB/Gobuster">Gobuster</a></li><li><a href="../HTB/http-response-code" data-for="HTB/http-response-code">http response code</a></li><li><a href="../HTB/JavaScript-Deobfuscation" data-for="HTB/JavaScript-Deobfuscation">JavaScript Deobfuscation</a></li><li><a href="../HTB/Logging-of-Commands" data-for="HTB/Logging-of-Commands">Logging of Commands</a></li><li><a href="../HTB/Metasploit" data-for="HTB/Metasploit">Metasploit</a></li><li><a href="../HTB/Nmap" data-for="HTB/Nmap">Nmap</a></li><li><a href="../HTB/Privilege-Escalation" data-for="HTB/Privilege-Escalation">Privilege Escalation</a></li><li><a href="../HTB/Remote-Shells" data-for="HTB/Remote-Shells">Remote Shells</a></li><li><a href="../HTB/Reverse-Shell" data-for="HTB/Reverse-Shell">Reverse Shell</a></li><li><a href="../HTB/Searchsploit" data-for="HTB/Searchsploit">Searchsploit</a></li><li><a href="../HTB/Seclist" data-for="HTB/Seclist">Seclist</a></li><li><a href="../HTB/Security-Group" data-for="HTB/Security-Group">Security Group</a></li><li><a href="../HTB/Services" data-for="HTB/Services">Services</a></li><li><a href="../HTB/SID" data-for="HTB/SID">SID</a></li><li><a href="../HTB/SMB" data-for="HTB/SMB">SMB</a></li><li><a href="../HTB/Smbclient" data-for="HTB/Smbclient">Smbclient</a></li><li><a href="../HTB/ssh" data-for="HTB/ssh">ssh</a></li><li><a href="../HTB/Transferring-Files" data-for="HTB/Transferring-Files">Transferring Files</a></li><li><a href="../HTB/User-Creation" data-for="HTB/User-Creation">User Creation</a></li><li><a href="../HTB/Web-Shell" data-for="HTB/Web-Shell">Web Shell</a></li><li><a href="../HTB/Webroot" data-for="HTB/Webroot">Webroot</a></li><li><a href="../HTB/Wordlists" data-for="HTB/Wordlists">Wordlists</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Networking"><button class="folder-button"><span class="folder-title">Networking</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Networking"><li><a href="../Networking/ARP" data-for="Networking/ARP">ARP</a></li><li><a href="../Networking/Bandwidth-vs-Throughput" data-for="Networking/Bandwidth-vs-Throughput">Bandwidth vs Throughput</a></li><li><a href="../Networking/DHCP" data-for="Networking/DHCP">DHCP</a></li><li><a href="../Networking/DNS" data-for="Networking/DNS">DNS</a></li><li><a href="../Networking/Ethernet-Protocol" data-for="Networking/Ethernet-Protocol">Ethernet Protocol</a></li><li><a href="../Networking/Gateway" data-for="Networking/Gateway">Gateway</a></li><li><a href="../Networking/IP-Address" data-for="Networking/IP-Address">IP Address</a></li><li><a href="../Networking/IPV4-Address" data-for="Networking/IPV4-Address">IPV4 Address</a></li><li><a href="../Networking/IPV6-Address" data-for="Networking/IPV6-Address">IPV6 Address</a></li><li><a href="../Networking/Mac-Address" data-for="Networking/Mac-Address">Mac Address</a></li><li><a href="../Networking/NAT" data-for="Networking/NAT">NAT</a></li><li><a href="../Networking/OSI-Model" data-for="Networking/OSI-Model">OSI Model</a></li><li><a href="../Networking/Port" data-for="Networking/Port">Port</a></li><li><a href="../Networking/Socket" data-for="Networking/Socket">Socket</a></li><li><a href="../Networking/TCP" data-for="Networking/TCP">TCP</a></li><li><a href="../Networking/TCP-IP-Model" data-for="Networking/TCP-IP-Model">TCP IP Model</a></li><li><a href="../Networking/TCP-IP-vs-OSI-Model" data-for="Networking/TCP-IP-vs-OSI-Model">TCP IP vs OSI Model</a></li><li><a href="../Networking/Transport-Layer-Protocol" data-for="Networking/Transport-Layer-Protocol">Transport Layer Protocol</a></li><li><a href="../Networking/UDP" data-for="Networking/UDP">UDP</a></li><li><a href="../Networking/URI,-URN-and-URL" data-for="Networking/URI,-URN-and-URL">URI, URN and URL</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SOC"><button class="folder-button"><span class="folder-title">SOC</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SOC"><li><a href="../SOC/!!-SOC-Learning-Pathway-!!" data-for="SOC/!!-SOC-Learning-Pathway-!!">!! SOC Learning Pathway !!</a></li><li><a href="../SOC/29-Malware-analysis-adresses" data-for="SOC/29-Malware-analysis-adresses">29 Malware analysis adresses</a></li><li><a href="../SOC/Adversary's-Objectives" data-for="SOC/Adversary's-Objectives">Adversary's Objectives</a></li><li><a href="../SOC/APT-Groups" data-for="SOC/APT-Groups">APT Groups</a></li><li><a href="../SOC/Backdoor" data-for="SOC/Backdoor">Backdoor</a></li><li><a href="../SOC/Brute-Force-Attack" data-for="SOC/Brute-Force-Attack">Brute Force Attack</a></li><li><a href="../SOC/C2" data-for="SOC/C2">C2</a></li><li><a href="../SOC/Command-Injection" data-for="SOC/Command-Injection">Command Injection</a></li><li><a href="../SOC/Cyber-Kill-Chain" data-for="SOC/Cyber-Kill-Chain">Cyber Kill Chain</a></li><li><a href="../SOC/Directory-Traversal-Attack" data-for="SOC/Directory-Traversal-Attack">Directory Traversal Attack</a></li><li><a href="../SOC/Dynamic-Analysis-Steps" data-for="SOC/Dynamic-Analysis-Steps">Dynamic Analysis Steps</a></li><li><a href="../SOC/Dynamic-Email-Analysis" data-for="SOC/Dynamic-Email-Analysis">Dynamic Email Analysis</a></li><li><a href="../SOC/Dynamic-Malware-Analysis-Example-1" data-for="SOC/Dynamic-Malware-Analysis-Example-1">Dynamic Malware Analysis Example 1</a></li><li><a href="../SOC/Dynamic-Malware-Analysis-Example-2" data-for="SOC/Dynamic-Malware-Analysis-Example-2">Dynamic Malware Analysis Example 2</a></li><li><a href="../SOC/EDR" data-for="SOC/EDR">EDR</a></li><li><a href="../SOC/Email-Harvesting" data-for="SOC/Email-Harvesting">Email Harvesting</a></li><li><a href="../SOC/Email-Header" data-for="SOC/Email-Header">Email Header</a></li><li><a href="../SOC/Email-Header-Analysis" data-for="SOC/Email-Header-Analysis">Email Header Analysis</a></li><li><a href="../SOC/Fast-Flux" data-for="SOC/Fast-Flux">Fast Flux</a></li><li><a href="../SOC/fuzzy-hashing" data-for="SOC/fuzzy-hashing">fuzzy hashing</a></li><li><a href="../SOC/Gaining-Initial-Foothold" data-for="SOC/Gaining-Initial-Foothold">Gaining Initial Foothold</a></li><li><a href="../SOC/Hash" data-for="SOC/Hash">Hash</a></li><li><a href="../SOC/How-Web-Applications-Work" data-for="SOC/How-Web-Applications-Work">How Web Applications Work</a></li><li><a href="../SOC/IDOR-Attack" data-for="SOC/IDOR-Attack">IDOR Attack</a></li><li><a href="../SOC/Malware-Analysis" data-for="SOC/Malware-Analysis">Malware Analysis</a></li><li><a href="../SOC/Malware-Analysis-Tools" data-for="SOC/Malware-Analysis-Tools">Malware Analysis Tools</a></li><li><a href="../SOC/Malware-Analysis-Using-Anyrun" data-for="SOC/Malware-Analysis-Using-Anyrun">Malware Analysis Using Anyrun</a></li><li><a href="../SOC/Masquerading" data-for="SOC/Masquerading">Masquerading</a></li><li><a href="../SOC/MITRE-ATT-and-CK-Framework" data-for="SOC/MITRE-ATT-and-CK-Framework">MITRE ATT&amp;CK Framework</a></li><li><a href="../SOC/MITRE-ATT-and-CK-Matrix" data-for="SOC/MITRE-ATT-and-CK-Matrix">MITRE ATT&amp;CK Matrix</a></li><li><a href="../SOC/MITRE-ATT-and-CK-Mitigations" data-for="SOC/MITRE-ATT-and-CK-Mitigations">MITRE ATT&amp;CK Mitigations</a></li><li><a href="../SOC/MITRE-ATT-and-CK-Tactics" data-for="SOC/MITRE-ATT-and-CK-Tactics">MITRE ATT&amp;CK Tactics</a></li><li><a href="../SOC/MITRE-ATT-and-CK-Technics--and--Sub-Techniques" data-for="SOC/MITRE-ATT-and-CK-Technics--and--Sub-Techniques">MITRE ATT&amp;CK Technics &amp; Sub-Techniques</a></li><li><a href="../SOC/Network-Propagation" data-for="SOC/Network-Propagation">Network Propagation</a></li><li><a href="../SOC/Open-Redirection-Attack" data-for="SOC/Open-Redirection-Attack">Open Redirection Attack</a></li><li><a href="../SOC/OSINT" data-for="SOC/OSINT">OSINT</a></li><li><a href="../SOC/OWASP" data-for="SOC/OWASP">OWASP</a></li><li><a href="../SOC/Pass-the-Hash-Attack" data-for="SOC/Pass-the-Hash-Attack">Pass the Hash Attack</a></li><li><a href="../SOC/Phishing" data-for="SOC/Phishing">Phishing</a></li><li><a href="../SOC/Punycode" data-for="SOC/Punycode">Punycode</a></li><li><a href="../SOC/Pyramid-of-Pain" data-for="SOC/Pyramid-of-Pain">Pyramid of Pain</a></li><li><a href="../SOC/Reconnaissance" data-for="SOC/Reconnaissance">Reconnaissance</a></li><li><a href="../SOC/RFI--and--LFI" data-for="SOC/RFI--and--LFI">RFI &amp; LFI</a></li><li><a href="../SOC/Setting-up-Malware-Analysis-Lab" data-for="SOC/Setting-up-Malware-Analysis-Lab">Setting up Malware Analysis Lab</a></li><li><a href="../SOC/SIEM" data-for="SOC/SIEM">SIEM</a></li><li><a href="../SOC/SOAR" data-for="SOC/SOAR">SOAR</a></li><li><a href="../SOC/SOC" data-for="SOC/SOC">SOC</a></li><li><a href="../SOC/SQL-Injection" data-for="SOC/SQL-Injection">SQL Injection</a></li><li><a href="../SOC/Static-Email-Analysis" data-for="SOC/Static-Email-Analysis">Static Email Analysis</a></li><li><a href="../SOC/Timestomping" data-for="SOC/Timestomping">Timestomping</a></li><li><a href="../SOC/Unified-Kill-Chain" data-for="SOC/Unified-Kill-Chain">Unified Kill Chain</a></li><li><a href="../SOC/Watering-Hole" data-for="SOC/Watering-Hole">Watering Hole</a></li><li><a href="../SOC/Web-Attacks" data-for="SOC/Web-Attacks">Web Attacks</a></li><li><a href="../SOC/Wireshark" data-for="SOC/Wireshark">Wireshark</a></li><li><a href="../SOC/XEE-Attack" data-for="SOC/XEE-Attack">XEE Attack</a></li><li><a href="../SOC/XSS-Attack" data-for="SOC/XSS-Attack">XSS Attack</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Writeups"><button class="folder-button"><span class="folder-title">Writeups</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Writeups"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Writeups/Challenges"><button class="folder-button"><span class="folder-title">Challenges</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Writeups/Challenges"><li><a href="../Writeups/Challenges/Malicious-VBA" data-for="Writeups/Challenges/Malicious-VBA">Malicious VBA</a></li><li><a href="../Writeups/Challenges/Phishing-Email" data-for="Writeups/Challenges/Phishing-Email">Phishing Email</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Writeups/CTF"><button class="folder-button"><span class="folder-title">CTF</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Writeups/CTF"><li><a href="../Writeups/CTF/EscapeTwo" data-for="Writeups/CTF/EscapeTwo">EscapeTwo</a></li><li><a href="../Writeups/CTF/Nibbles" data-for="Writeups/CTF/Nibbles">Nibbles</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Writeups/SOC-Alerts"><button class="folder-button"><span class="folder-title">SOC Alerts</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Writeups/SOC-Alerts"><li><a href="../Writeups/SOC-Alerts/SOC104" data-for="Writeups/SOC-Alerts/SOC104">SOC104</a></li><li><a href="../Writeups/SOC-Alerts/SOC104-1" data-for="Writeups/SOC-Alerts/SOC104-1">SOC104 1</a></li><li><a href="../Writeups/SOC-Alerts/SOC104-2" data-for="Writeups/SOC-Alerts/SOC104-2">SOC104 2</a></li><li><a href="../Writeups/SOC-Alerts/SOC109" data-for="Writeups/SOC-Alerts/SOC109">SOC109</a></li><li><a href="../Writeups/SOC-Alerts/SOC114" data-for="Writeups/SOC-Alerts/SOC114">SOC114</a></li><li><a href="../Writeups/SOC-Alerts/SOC119" data-for="Writeups/SOC-Alerts/SOC119">SOC119</a></li><li><a href="../Writeups/SOC-Alerts/SOC120" data-for="Writeups/SOC-Alerts/SOC120">SOC120</a></li><li><a href="../Writeups/SOC-Alerts/SOC138" data-for="Writeups/SOC-Alerts/SOC138">SOC138</a></li><li><a href="../Writeups/SOC-Alerts/SOC145" data-for="Writeups/SOC-Alerts/SOC145">SOC145</a></li><li><a href="../Writeups/SOC-Alerts/SOC146" data-for="Writeups/SOC-Alerts/SOC146">SOC146</a></li><li><a href="../Writeups/SOC-Alerts/SOC165" data-for="Writeups/SOC-Alerts/SOC165">SOC165</a></li><li><a href="../Writeups/SOC-Alerts/SOC166" data-for="Writeups/SOC-Alerts/SOC166">SOC166</a></li><li><a href="../Writeups/SOC-Alerts/SOC167" data-for="Writeups/SOC-Alerts/SOC167">SOC167</a></li><li><a href="../Writeups/SOC-Alerts/SOC168" data-for="Writeups/SOC-Alerts/SOC168">SOC168</a></li><li><a href="../Writeups/SOC-Alerts/SOC169" data-for="Writeups/SOC-Alerts/SOC169">SOC169</a></li></ul></div></li></ul></div></li><li><a href="../Tools" data-for="Tools">Tools</a></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../SOC/">SOC</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Setting up Malware Analysis Lab</a></div></nav><h1 class="article-title">Setting up Malware Analysis Lab</h1><p show-comma="true" class="content-meta"><time datetime="2025-02-23T14:01:49.410Z">Feb 23, 2025</time><span>11 min read</span></p></div></div><article class="popover-hint"><h1 id="creating-a-malware-analysis-lab">Creating a malware analysis lab<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#creating-a-malware-analysis-lab" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<h2 id="installing-virtualization-software">Installing Virtualization Software<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#installing-virtualization-software" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Before installing a virtual operating system, we need to install one of the virtualization software that enables this.</p>
<p>While there are some differences between them, any of the virtualization software will help us for our dynamic analysis. You can install one of the following virtualization software:</p>
<ul>
<li>VMware Workstation</li>
<li>VMware Fusion (for macOS)</li>
<li>Oracle Virtualbox</li>
</ul>
<p>We will use VMware Workstation virtualization software during the training and it is recommended for you to install it so that you can follow the training easily.</p>
<p>You can download and install VMware Workstation <a href="https://www.vmware.com/products/workstation-player.html" class="external">here<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>.</p>
<h2 id="installing-operating-system">Installing Operating System<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#installing-operating-system" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>After installing the virtualization software on our system, let’s set up our operating system with the help of these virtualization software.</p>
<p>In order to install the operating system together with the virtualization software, we need to obtain the ISO files of the operating systems. You can use the application called <a href="https://www.microsoft.com/en-us/software-download/windows10" class="external">MediaCreationTool<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> published by Microsoft to create an ISO file for the Windows operating system.</p>
<p>Malware may be programmed not to work or to behave differently depending on the operating system. For this reason, we strongly recommend that you have different operating systems at hand.</p>
<p>When you run MediaCreationTool, you will be prompted with “Upgrade this PC now” and “Create installation media” options. Let’s continue by selecting the “Create installation media” option.</p>
<p><img src="../Assets/ad88248d2968f39c2d4f17830e8def81_MD5.png" width="auto" height="auto" alt/></p>
<p>Then we are asked to choose Language, operating system version information and operating system architecture. From here you can choose the Windows 10 64bit option. We recommend you to choose the operating system with 64bit architecture first. You can run both 32-bit applications and 64-bit applications on operating systems with 64-bit architecture, but you can only run 32-bit applications on operating systems with 32-bit architecture.</p>
<p><img src="../Assets/78642c56e3fce5547eddb73bd2dd3d4c_MD5.png" width="auto" height="auto" alt/></p>
<p>After choosing the operating system version information and architecture, we are asked whether we want to write to the USB drive or create an ISO file. Since we need the ISO file, we choose the ISO option here.</p>
<p><img src="../Assets/96c1aced1435ce728347ff5c4891f920_MD5.png" width="auto" height="auto" alt/></p>
<p>Then we are asked in which directory we want the ISO file to be saved. You may choose an appropriate directory for you.</p>
<p>When you complete these steps, the ISO file will be saved in the directory you specified. (This step may take a long time.)</p>
<p>Now that we have the ISO file, we can proceed to the installation of the operating system. Since VMware Workstation will be used in this training series, the lecture will be through this software. However, If you wish to use another virtualization software you should be able to adapt the lecture for other virtualization software easily since all these software are very similar.</p>
<p>Since we are going to install a new operating system, we must first click on the “Create a New Virtual Machine” button. Alternatively, you can select “File” from the top menu and then “New Virtual Machine”.</p>
<p><img src="../Assets/f1926e5f95af45205d0bf1f213d6603a_MD5.png" width="auto" height="auto" alt/></p>
<p>Then, we are asked to choose what kind of installation we want to proceed with. We continue our installation by choosing “Typical (recommended)”.</p>
<p><img src="../Assets/06b7466449c9365727b83c0dfc3dd90d_MD5.png" width="auto" height="auto" alt/></p>
<p>We select the ISO file that we have downloaded by selecting the “Installer disc image file (iso)” option.</p>
<p><img src="../Assets/f5c2d1e8bb989f90f667ccc9c1723f20_MD5.png" width="auto" height="auto" alt/></p>
<p>Next, we are asked to name the Virtual Machine and specify the directory that we want the files of the VM to be kept. You can use “Windows10 Dynamic Analysis” as the name and “the default directory” as the directory. We recommend giving it a descriptive name to your VM so that you won’t confuse your VMs if you have multiple. If you wish you can change this name you have given to the VM later.</p>
<p><img src="../Assets/756163b14016963cf51fe278ec91f24c_MD5.png" width="auto" height="auto" alt/></p>
<p>After choosing the name and the directory where the VM’s files will be kept, we are asked to determine the disk size of our operating system. Since we will install various software and applications in it, we recommend that you allocate a minimum of 60-70 GB.</p>
<p><img src="../Assets/6a5281beb32f594cbe2ab89339c430e9_MD5.png" width="auto" height="auto" alt/></p>
<p>Finally, we are presented with some hardware settings that the operating system uses. At this stage, we go to the customization step by clicking the “Customize Hardware” button.</p>
<p><img src="../Assets/3b10e531e21bbea19a0901c8577e51f6_MD5.png" width="auto" height="auto" alt/></p>
<p>Since we are using an operating system with a 64-bit architecture, I recommend reserving a minimum of 4 GB of RAM. If you assign lower settings you may end up with performance and operating system errors. However, if you are installing an operating system with a 32-bit architecture, then you may allocate less RAM.</p>
<p><img src="../Assets/e94a3873f8ecfaa5e6da231f89a0864a_MD5.png" width="auto" height="auto" alt/></p>
<p>After we pass this stage, a Virtual Machine with the settings we specified is being created.</p>
<p><img src="../Assets/554e4afeb4d15a53869ee3a8c8bc1386_MD5.png" width="auto" height="auto" alt/></p>
<p>After the VM is created, you can install the operating system normally by running the created VM.</p>
<h2 id="installing-tools-and-software">Installing Tools and Software<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#installing-tools-and-software" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>At this point, our operating system is now ready for use. Next is the installation of tools and software that we will use during dynamic analysis.</p>
<p>You should install the tools we mentioned in our <strong><a href="../SOC/Malware-Analysis-Tools" class="internal alias" data-slug="SOC/Malware-Analysis-Tools">Malware Analysis Tools</a></strong> article on your virtual operating system now.</p>
<h2 id="tweaking-virtual-machine">Tweaking Virtual Machine<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#tweaking-virtual-machine" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>We need to make some configuration changes on our Virtual Machine to be able to use it for malware analysis.</p>
<h3 id="1-turn-off-anti-malware-solutions">1. Turn off anti-malware solutions<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#1-turn-off-anti-malware-solutions" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Since we will analyze malware on our VM, we do not want antivirus software to delete the malware we have installed for analysis. We should turn off Windows Defender which comes active by default in Windows operating systems.</p>
<p>You should go to Windows Defender settings and disable all active settings. The feature that instantly scans and deletes the malware you have installed to analyze is “Real-time protection”. Make sure you turn this feature off.</p>
<p><img src="../Assets/31bfe4aa371bd1461b34f4f664507136_MD5.png" width="auto" height="auto" alt/></p>
<p>Disable Windows Defender Using Group Policy</p>
<p>You can open the Local Group Policy Editor application by searching for “edit group policy” in the start menu. Alternatively, you can access the Local Group Policy Editor application by searching for “gpedit.msc” or by running it through “Search>Run” function on Windows.</p>
<p>To disable Windows Defender using the Local Group Policy Editor application, you must access the policy below.</p>
<p>“Computer Configuration > Administrative Templates > Windows Components > Microsoft Defender Antivirus”</p>
<p>Here, you should double-click the “Turn off Microsoft Defender Antivirus” policy and set it to “Enabled”.</p>
<p><img src="../Assets/19db3f40bf4a4525b006641bc1b771e1_MD5.png" width="auto" height="auto" alt/></p>
<p>You should also disable the “Monitor file and program activity on your computer” policy under “Real-time Protection”.</p>
<p><img src="../Assets/19cd2ca6846070f5265816f196436c58_MD5.png" width="auto" height="auto" alt/></p>
<h3 id="2-rename-your-virtual-operating-system">2. Rename your virtual operating system<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#2-rename-your-virtual-operating-system" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Some malicious software makes various checks in order not to work in analysis environments. One of these checks is to check the hostname. Since most sandboxes have hostnames such as “Sandbox”, “Malware”, “Cuckoo” …, malware is programmed not to run on systems with these hostnames.</p>
<p>You should make your VM look like a normal user’s system as much as possible so that you can avoid anti-analysis techniques. Specifying a random name as the hostname will allow you to help avoid such checks.</p>
<p>To change the device name, you must select “Settings → System → About” and then click the “Rename this PC” button.</p>
<p><img src="../Assets/5946c68e9cc1f747af0a79c2a360ffeb_MD5.png" width="auto" height="auto" alt/></p>
<p>Don’t forget to change your username too!</p>
<h3 id="3-turn-off-auto-updates">3. Turn off auto updates<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#3-turn-off-auto-updates" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>The malware we are going to analyze may be taking advantage of vulnerabilities in the operating system. In order for the malware to run as normally as possible, we need to turn off the automatic updates of our virtual operating system.</p>
<p>You can turn off automatic updates through the group policy settings.</p>
<p>You can open the Local Group Policy Editor application by searching for “edit group policy” in the start menu. Alternatively, you can access the Local Group Policy Editor application by searching for “gpedit.msc” or by running it through the “Search>Run” function on Windows.</p>
<p>You should then access the policy below.</p>
<p>“Computer Configuration > Administrative Templates > Windows Components > Windows Update”</p>
<p>After accessing the relevant policy, you should set the policy named “Configure Automatic Updates” to “Disabled”.</p>
<p><img src="../Assets/77b4783b0fe0081ee592f47c7a2f825e_MD5.png" width="auto" height="auto" alt/></p>
<h3 id="4-disable-hidden-extensions">4. Disable Hidden Extensions<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#4-disable-hidden-extensions" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>You may have seen the attackers try to trick their victims by changing the file extensions. How could they do this?</p>
<p>Windows operating systems are set to hide known file extensions by default. In other words, a file named “Chrome.exe” will appear as “Chrome” by default. Attackers name their malicious software as “Photo.jpg.exe”, causing the user to see the file as “Photo.jpg”. When the user thinks that this file is an image file and opens it, the malware will start to run.</p>
<p>In order not to get confused with this during our analysis, we need to fix it so that the extensions that are hidden by default are always shown.</p>
<p>For this, we need to open the application named “File Explorer” and access the settings menu by clicking the “File” and then “Change folder and search options” buttons from the top menu.</p>
<p><img src="../Assets/4b2729a0c77261fd5fb5b5ab679cb80b_MD5.png" width="auto" height="auto" alt/></p>
<p>Then you should save the settings by unchecking “Hide extensions for known file types” from the “View” tab.</p>
<p><img src="../Assets/52484c196725a52b0b61ba5e8c026374_MD5.png" width="auto" height="auto" alt/></p>
<h3 id="5-show-hidden-files-and-folders">5. Show Hidden Files and Folders<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#5-show-hidden-files-and-folders" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Malware aims to prevent the user from detecting their files by hiding them. By default, showing hidden files and directories will enable us to perform a more comfortable analysis.</p>
<p>Let’s open the application called File Explorer and open the settings menu with the help of “File” from the top menu, then click “Change folder and search options”.</p>
<p><img src="../Assets/4b2729a0c77261fd5fb5b5ab679cb80b_MD5.png" width="auto" height="auto" alt/></p>
<p>Then, let’s check the “Show hidden files, folders, and drives” from the “View” tab and save the setting.</p>
<p><img src="../Assets/2bc75e1a78b793fe2e482ba4d4c6422f_MD5.png" width="auto" height="auto" alt/></p>
<h3 id="6-disable-aslr">6. Disable ASLR<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#6-disable-aslr" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>New versions of Windows have an anti-exploit security mechanism called ASLR (Address Space Layout Randomization). We won’t get into ASLR too much in this training, but you may want to disable this feature at this stage as it will come up in the future.</p>
<p>You can disable this setting with the help of Registry. Access the following registry by opening the Registry Editor application.</p>
<p>`HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management</p>
<p><img src="../Assets/f64f2d44fa87b84b334a8aa093c36d67_MD5.png" width="auto" height="auto" alt/></p>
<p>Then create a <code>REG_DWORD</code> type key named <code>MoveImages</code>.</p>
<p>These settings will eventually disable the ASLR feature.</p>
<h3 id="7-disable-windows-firewall">7. Disable Windows Firewall<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#7-disable-windows-firewall" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>As we implemented in the previous steps, we should disable the Windows Firewall to prevent the security mechanisms from interfering with the malicious software we analyze.</p>
<p>Access Windows Defender Firewall settings via the control panel. You can access these settings using the search bar in the top menu of File Explorer. If you copy and search the following path in this search bar, it will take you to the Windows Defender Firewall settings.</p>
<p>“Control Panel\System and Security\Windows Defender Firewall\Customize Settings”</p>
<p><img src="../Assets/6d87bb1a59383addfec4f3f654db9b4e_MD5.png" width="auto" height="auto" alt/></p>
<p>After accessing the Defender Firewall settings, select “Turn off Windows Defender Firewall” and save it. This will disable the Firewall.</p>
<p><img src="../Assets/27038c3c77a239724ffc15e3b44d652e_MD5.png" width="auto" height="auto" alt/></p>
<h3 id="8-mimic-an-end-user-system">8. Mimic an End-User System<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#8-mimic-an-end-user-system" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>You should make your VM look like a normal end-user operating system as much as possible so that the malware you are analyzing is not caught by anti-analysis techniques.</p>
<p>Since there are no precise instructions or settings for this, it’s totally up to you to make your analysis VM look like a normal end-user’s computer. We can recommend the following tips to implement on your VM to establish this similarity:</p>
<ul>
<li>Installing browsers frequently preferred by end-users such as Chrome and Firefox,</li>
<li>Leaving files in different directories that will be of interest to the attacker,</li>
<li>Changing the desktop background,</li>
<li>To ensure that some files are found in the Downloads directory by downloading small applications through the browser</li>
</ul>
<h3 id="9-change-network-settings">9. Change Network Settings<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#9-change-network-settings" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>We need to prevent our malware from spreading to different devices via network connection. Thanks to the private networks provided by virtualization software, we can prevent malware from infecting different devices.</p>
<p>For this, you must click on the “VM” menu in the top menu of VMware Workstation and select “Settings”.</p>
<p>You should select the “Custom” setting by selecting “Network Adapter” from the left menu in the window that opens.</p>
<p><img src="../Assets/48ee539f56277a836324e67467dfdc23_MD5.png" width="auto" height="auto" alt/></p>
<h2 id="take-a-snapshot">Take a Snapshot<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#take-a-snapshot" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Your operating system may be affected functionally or become unusable after you analyze malware or ransomware on your system. When you want to analyze a new malware after running and analyzing another malware, you do not want your operating system to get affected by the changes that was made by the old malware you analyzed.</p>
<p>In such cases, you can take advantage of the Snapshot feature of virtualization software.</p>
<p>Snapshot is a feature that allows you to take a snapshot of your Virtual Machine and return to this backup later.</p>
<p>Our VM has been configured for malware analysis and the applications that we will be using in the analysis have been installed into it. At this stage, you can take a Snapshot and then switch to the same analysis environment with your clean VM.</p>
<p>To take snapshots, you can access the screen where you manage Snapshots by clicking the “VM” menu in the top menu of the VMware Workstation application and clicking “Snapshot” <span>→</span> “Snapshot Manager”.</p>
<p>Then you can take a snapshot of your VM by clicking the “Take Snapshot” button. That’s how easy it is to take snapshots.</p>
<p><img src="../Assets/de6913bd3649e91cf05b19154e1b7568_MD5.png" width="auto" height="auto" alt/></p>
<p>Entering detailed information on the description will allow you to easily find the Snapshot you need. For this reason, we recommend that you enter as descriptive comments as possible.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.9,&quot;centerForce&quot;:0.9,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#creating-a-malware-analysis-lab" data-for="creating-a-malware-analysis-lab">Creating a malware analysis lab</a></li><li class="depth-1"><a href="#installing-virtualization-software" data-for="installing-virtualization-software">Installing Virtualization Software</a></li><li class="depth-1"><a href="#installing-operating-system" data-for="installing-operating-system">Installing Operating System</a></li><li class="depth-1"><a href="#installing-tools-and-software" data-for="installing-tools-and-software">Installing Tools and Software</a></li><li class="depth-1"><a href="#tweaking-virtual-machine" data-for="tweaking-virtual-machine">Tweaking Virtual Machine</a></li><li class="depth-2"><a href="#1-turn-off-anti-malware-solutions" data-for="1-turn-off-anti-malware-solutions">1. Turn off anti-malware solutions</a></li><li class="depth-2"><a href="#2-rename-your-virtual-operating-system" data-for="2-rename-your-virtual-operating-system">2. Rename your virtual operating system</a></li><li class="depth-2"><a href="#3-turn-off-auto-updates" data-for="3-turn-off-auto-updates">3. Turn off auto updates</a></li><li class="depth-2"><a href="#4-disable-hidden-extensions" data-for="4-disable-hidden-extensions">4. Disable Hidden Extensions</a></li><li class="depth-2"><a href="#5-show-hidden-files-and-folders" data-for="5-show-hidden-files-and-folders">5. Show Hidden Files and Folders</a></li><li class="depth-2"><a href="#6-disable-aslr" data-for="6-disable-aslr">6. Disable ASLR</a></li><li class="depth-2"><a href="#7-disable-windows-firewall" data-for="7-disable-windows-firewall">7. Disable Windows Firewall</a></li><li class="depth-2"><a href="#8-mimic-an-end-user-system" data-for="8-mimic-an-end-user-system">8. Mimic an End-User System</a></li><li class="depth-2"><a href="#9-change-network-settings" data-for="9-change-network-settings">9. Change Network Settings</a></li><li class="depth-1"><a href="#take-a-snapshot" data-for="take-a-snapshot">Take a Snapshot</a></li></ul></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li><a href="../SOC/Malware-Analysis" class="internal">Malware Analysis</a></li></ul></div></div><footer class><ul><li><a href="https://socials.prashantgiri360.com.np/github">GitHub</a></li><li><a href="https://socials.prashantgiri360.com.np/linkedin">LinkedIn</a></li><li><a href="https://socials.prashantgiri360.com.np/discord">Discord</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../postscript.js" type="module"></script></html>